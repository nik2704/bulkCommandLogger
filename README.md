# Программа для пакетной обработки команд.

## Описание
Данный проект реализует обработчик команд, который считывает команды из входного потока, группирует их в блоки и выполняет заданные операции. Команды могут быть организованы в статические и динамические блоки.

Команды считываются построчно из стандартного ввода и обрабатываются блоками по N команд. Одна команда - одна строка, конкретное значение роли не играет. Если данные закончились - блок завершается принудительно. Параметр N передается как единственный параметр командной строки в виде целого числа.

## Структура проекта

```
project_root/
│── main.cpp
│── cmdReader/
│   ├── commandReader.h
│   ├── commandReader.cpp
│── cmdLogger/
│   ├── commandBlockQueue.h
│   ├── commandBlockQueue.cpp
│   ├── commandBlock.h
│   ├── commandBlock.cpp
│   ├── command.h
│   ├── command.cpp
│── README.md
│── CMakeLists.txt
```

## Основные компоненты

### `main.cpp`
Точка входа в программу. Ожидает аргумент командной строки - размер блока команд. Создаёт экземпляр `CommandReader` и вызывает его метод `execute()`.

### `CommandReader`
Обрабатывает вводимые команды, группирует их в блоки и передаёт их в очередь `CommandBlockQueue`.

Основные функции:
- `execute()` — Запускает процесс чтения команд из стандартного ввода.
- `readCommand()` — Читает команды, определяет границы блоков.

### `CommandBlockQueue`
Управляет очередью командных блоков, предоставляет методы для добавления команд, открытия и закрытия блоков, а также логирования их содержимого.

Основные функции:
- `addCommand(command_text, level)` — Добавляет команду в очередь.
- `openBlock(isDynamic)` — Начинает новый блок команд.
- `closeBlock(disable_printing, level)` — Закрывает текущий блок.
- `logCommandQueue()` — Записывает содержимое очереди в лог.

### `CommandBlock`
Представляет отдельный блок команд, содержащий список команд и флаг динамичности.

### `Command`
Представляет собой отдельную команду с текстовым содержимым.

## Сборка и запуск

### Требования
- Компилятор с поддержкой C++17 или выше
- CMake 3.12+

### Сборка
```sh
mkdir build
cd build
cmake ..
make
```

### Запуск
```sh
./bulk <размер_блока>
```

Пример работы:
```
$ ./bulk 3
cmd1
cmd2
cmd3
# Вывод: [cmd1, cmd2, cmd3]
cmd4
{
cmd5
cmd6
}
# Вывод: [cmd5, cmd6]
```

## Авторы
Разработано Nikolay.

